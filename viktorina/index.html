<!doctype html>
<html lang="az">
<head>
  <meta charset="utf-8">
  <title>Java Quiz ‚Äì Test Se√ßimi il…ô</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#f5f7fa;margin:24px}
    h1{color:#2563eb;text-align:center}
    .card{background:white;padding:16px;margin-bottom:12px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
    .question{font-weight:bold;margin-bottom:8px}
    .options label{display:block;margin:4px 0}
    button{background:#2563eb;color:white;border:none;padding:10px 18px;border-radius:6px;font-size:16px;cursor:pointer}
    .footer{text-align:center;margin-top:16px}
    .result{background:white;padding:18px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
    .wrong{color:#b91c1c}
    .center{text-align:center;margin-top:60px}
    select{padding:8px 12px;font-size:16px;border-radius:6px;border:1px solid #ccc;margin-right:8px}
  </style>
</head>
<body>
  <h1>Java Quiz</h1>

  <!-- SELECTION MENU -->
  <div id="menu" class="center">
    <p>Test d…ôstini se√ß:</p>
    <select id="quizSelect">
      <option value="">-- Se√ßin --</option>
      <option value="questions.json">Test 1 ‚Äì ∆èsas 50 sual</option>
      <option value="questions2.json">Test 2 ‚Äì Yeni 50 sual</option>
    </select>
    <button id="btnStart">Ba≈üla</button>
  </div>

  <!-- QUIZ AREA -->
  <div id="quizArea" style="display:none;">
    <div id="quiz"></div>
    <div class="footer">
      <button id="btnResult">N…ôtic…ô</button>
    </div>
  </div>

  <!-- RESULT -->
  <div id="result" style="display:none" class="result"></div>

<script>
let questions = [];

document.getElementById("btnStart").addEventListener("click", async ()=>{
  const file = document.getElementById("quizSelect").value;
  if(!file){ alert("Z…ôhm…ôt olmasa test d…ôsti se√ßin!"); return; }

  const res = await fetch(file);
  questions = await res.json();
  renderQuestions();
  document.getElementById("menu").style.display="none";
  document.getElementById("quizArea").style.display="block";
  window.scrollTo(0,0);
});

function renderQuestions(){
  const quizDiv = document.getElementById("quiz");
  quizDiv.innerHTML = "";
  for(const q of questions){
    const card = document.createElement("div");
    card.className = "card";

    const title = document.createElement("div");
    title.className = "question";
    title.textContent = q.id + "Ô∏è‚É£ " + q.text;
    card.appendChild(title);

    const opts = document.createElement("div");
    opts.className = "options";
    q.options.forEach((opt, i)=>{
      const letter = String.fromCharCode(65+i);
      const lbl = document.createElement("label");
      lbl.innerHTML = `<input type="radio" name="q${q.id}" value="${letter}"> ${letter}) ${opt}`;
      opts.appendChild(lbl);
    });
    card.appendChild(opts);
    quizDiv.appendChild(card);
  }
}

document.getElementById("btnResult").addEventListener("click", ()=>{
  let correct=0;
  let wrongList=[];
  for(const q of questions){
    const checked = document.querySelector(`input[name="q${q.id}"]:checked`);
    const ans = checked ? checked.value : null;
    if(ans===q.correct) correct++;
    else wrongList.push(q.id);
  }
  const total = questions.length;
  const wrong = total - correct;

  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `
    <h2>N…ôtic…ô</h2>
    <p>√úmumi sual: <b>${total}</b></p>
    <p>Doƒüru: <b>${correct}</b></p>
    <p>S…ôhv: <b>${wrong}</b></p>
    ${wrongList.length ? `<p class="wrong">S…ôhv veril…ôn suallar: ${wrongList.join(", ")}</p>` : "<p>B√ºt√ºn cavablar doƒürudur! üéâ</p>"}
    <div style='margin-top:10px'>
      <button onclick="restart()">Yenid…ôn test se√ß</button>
    </div>
  `;
  document.getElementById("quizArea").style.display="none";
  resultDiv.style.display="block";
});

function restart(){
  document.getElementById("menu").style.display="block";
  document.getElementById("quizArea").style.display="none";
  document.getElementById("result").style.display="none";
  document.querySelectorAll("input[type=radio]").forEach(r=>r.checked=false);
}
</script>
</body>
</html>
